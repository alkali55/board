<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/basic.html}">
<head>
</head>
<body>
    <div layout:fragment="content">
        <h1>글 상세페이지</h1>

        <div class="row mt-3" th:object="${detail}">


                <div class="input-group mb-3">
                    <span class="input-group-text">Title</span>
                    <input type="text" class="form-control" th:field="*{title}" placeholder="Title...." readonly>
                    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
                    <div id="error-title" class="error-message"></div>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">Content</span>
                    <textarea class="form-control" th:field="*{content}" rows="5" readonly></textarea>
                    <div th:if="${#fields.hasErrors('content')}" th:errors="*{content}"></div>
                    <div id="error-content" class="error-message"></div>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">Writer</span>
                    <input type="text" class="form-control" th:field="*{writer.memberId}" placeholder="Writer...." readonly>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">postDate</span>
                    <input type="text" class="form-control" th:value="${#temporals.format(detail.postDate, 'yyyy-MM-dd HH:mm')}" readonly>
                </div>
                <!--첨부파일-->
                <div th:each="file : ${detail.upfiles}">
                    <div>
                        <img th:if="${file.isImage}" th:src="@{${file.thumbFileName}}">
                        <div th:if="${!file.isImage}" th:text="${file.originalFileName}"></div>
                    </div>

                </div>

                <div th:if="${detail.upfiles[0].originalFileName} == null">
                    <p>첨부파일이 없습니다.</p>
                </div>

                <div class="my-4">
                    <div class="float-end">
                        <a th:href="@{/board/list}" class="btn btn-primary btn-lg">목록으로</a>
                        <button class="btn btn-info btn-lg" id="modifyBtn">수정</button>
                        <button class="btn btn-danger btn-lg" id="removeBtn">삭제</button>

                        <!-- 수정하기, 답글달기 -->
                        <a th:href="@{/board/showReplyForm(boardNo=${detail.boardNo},
                                                           ref=${detail.ref},
                                                           step=${detail.step},
                                                           refOrder=${detail.refOrder})}" class="btn btn-primary btn-lg">답글작성</a>
                    </div>
                </div>




        </div>

    </div>

    <script layout:fragment="script" th:inline="javascript">


    </script>
</body>
</html>